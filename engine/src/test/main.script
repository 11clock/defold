function init(self)
    self.timer = 6
    msg.post("#loading_proxy", "load")
    msg.post("#loading_proxy", "init")
    msg.post("#loading_proxy", "enable")
end

function update(self, dt)
    self.timer = self.timer - dt
    if self.timer < 0 then
        print("Test timed out, exiting with code 1.")
        msg.post("@system:", "exit", { code = 1 })
    end
end

function on_message(self, message_id, message)
    if message_id == hash("end") then
        msg.post("@system:", "exit", { code = 0 })
--    elseif message_id == hash("start") then
--        msg.post("#loading_proxy", "load")
--        msg.post("#loading_proxy", "init")
--        msg.post("#loading_proxy", "enable")
    end
end
