#! /usr/bin/env python
import os, re

def configure(conf):
    pass

def build(bld):
    embed_source = ''
    source = []

    if re.match('arm.*?darwin', bld.env.PLATFORM):
        source += ['push_ios.mm']
    else:
        source += ['push_null.cpp']

    push = bld.new_task_gen(features = 'cxx cstaticlib',
                            includes = '.',
                            source = source,
                            target = 'pushext')

