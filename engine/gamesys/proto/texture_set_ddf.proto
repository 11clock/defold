package dmGameSystemDDF;

import "ddf/ddf_extensions.proto";
import "ddf/ddf_math.proto";
import "tile_ddf.proto";

option java_package = "com.dynamo.textureset.proto";
option java_outer_classname = "TextureSetProto";

message TextureSetAnimation
{
    required string id              = 1;
    required uint32 start           = 2;
    required uint32 end             = 3;
    optional uint32 fps             = 4 [default = 30];
    optional Playback playback      = 5 [default = PLAYBACK_ONCE_FORWARD];
    optional uint32 flip_horizontal = 6 [default = 0];
    optional uint32 flip_vertical   = 7 [default = 0];
}

/*
  Vertex format:

  struct Vertex
  {
      // Offset 0
      float x, y, z;
      // Offset 12
      uint16_t u, v;
      // Offset 16
  };
 */

message TextureSet
{
    required string texture                 = 1;
    repeated TextureSetAnimation animations = 2;
    repeated ConvexHull convex_hulls        = 3;
    required bytes vertices                 = 4;
    repeated uint32 vertex_count            = 5;
    repeated float bounds_texcoords         = 6; // (minu, minv, maxu, maxv), 4 float per animation
    repeated float convex_hull_points       = 7;
    repeated string collision_groups        = 8;
}
