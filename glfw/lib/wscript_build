import sys, re

dmglfw = bld.new_task_gen(features = 'cc cstaticlib',
                          target = 'dmglfw')

platform = bld.env.PLATFORM

if platform == 'darwin':
    dmglfw.find_sources_in_dirs('. cocoa')
    dmglfw.includes = '. cocoa'
elif re.match('arm.*?darwin', platform):
    dmglfw.find_sources_in_dirs('. ios')
    dmglfw.includes = '. ios'
elif platform == 'linux2':
    dmglfw.find_sources_in_dirs('. x11')
    dmglfw.includes = '. x11'
elif platform == 'win32':
    dmglfw.find_sources_in_dirs('. win32')
    dmglfw.includes = '. win32'

