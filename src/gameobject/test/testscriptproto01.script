function init(self)
    assert(self.id == hash("my_object01"), "init id mismatch")
    local p = get_position(self)
    assert(p.x == 0)
    assert(p.y == 0)
    assert(p.z == 0)

    self.counter = 0
    assert(self.counter == 0)

    self.counter = self.counter +  1
    assert(self.counter == 1)
    tmp = "1";
end

function update(self)
    assert(self.id == hash("my_object01"), "update id mismatch")
    assert (self.counter == 1)

    local p = get_position(self)

    p.y = 123.0
    set_position(self, p)

    p = get_position(self)
    assert(p.y == 123.0)

    post("spawn", {prototype = "test", pos = vec_math.vector3(1, 2, 3)} )
end

function on_event(self, event_hash, event)
    assert(self.id == hash("my_object01"), "on_event id mismatch")
    assert(event_hash == hash("spawn_result"))
    assert(event.status == 1010)
end

function on_input(self, action)
    assert(self.id == hash("my_object01"), "on_input id mismatch")
    assert(action.Id == hash("test_action"), "on_input action id mismatch")
end

functions = { init = init, update = update, on_event = on_event, on_input = on_input }
